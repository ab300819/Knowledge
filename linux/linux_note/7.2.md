<!-- TOC -->

- [Linux 磁盘与文件系统管理](#linux-磁盘与文件系统管理)
    - [文件系统的简单操作](#文件系统的简单操作)
        - [磁盘与目录的容量](#磁盘与目录的容量)
            - [`df` 列出文件系统的整体磁盘使用量](#df-列出文件系统的整体磁盘使用量)
            - [`du` 评估文件系统的磁盘使用量(常用在推估目录所占容量)](#du-评估文件系统的磁盘使用量常用在推估目录所占容量)
            - [`xfs_info` 文件系统信息查看](#xfs_info-文件系统信息查看)
        - [实体链接与符号链接](#实体链接与符号链接)

<!-- /TOC -->

# Linux 磁盘与文件系统管理

## 文件系统的简单操作

### 磁盘与目录的容量

#### `df` 列出文件系统的整体磁盘使用量

```shell
df [-ahikHTm] [目录或文件名]
```

选项与参数：

- `-a` 列出所有的文件系统，包括系统特有的 /proc 等文件系统；
- `-k` 以 KBytes 的容量显示各文件系统；
- `-m` 以 MBytes 的容量显示各文件系统；
- `-h` 以人们较易阅读的 GBytes, MBytes, KBytes 等格式自行显示；
- `-H` 以 M=1000K 取代 M=1024K 的进位方式；
- `-T` 连同该 partition 的 filesystem 名称 (例如 ext3) 也列出；
- `-i` 不用硬盘容量，而以 inode 的数量来显示

#### `du` 评估文件系统的磁盘使用量(常用在推估目录所占容量)

```shell
[root@www ~]# du [-ahskm] 文件或目录名称
```

选项与参数：

- `-a` 列出所有的文件与目录容量，因为默认仅统计目录底下的文件量而已。
- `-h` 以人们较易读的容量格式 (G/M) 显示；
- `-s` 列出总量而已，而不列出每个各别的目录占用容量；
- `-S` 不包括子目录下的总计，与 `-s` 有点差别。
- `-k` 以 KBytes 列出容量显示；
- `-m` 以 MBytes 列出容量显示；

> `/proc` 虽然有列出容量，但是那个容量是在内存中，不占硬盘空间。

#### `xfs_info` 文件系统信息查看

```shell
xfs_info 挂在点|设备名称
```

### 实体链接与符号链接

- Hard Link (实体链接, 硬式连结或实际连结)
- Symbolic Link (符号链接，亦即是快捷方式)

```shell
ln [-sf] 来源文件 目标文件
```

选项与参数：

- `-s` 如果不加任何参数就进行连结，那就是 hard link，至于 `-s` 就是 symbolic link
- `-f` 如果「目标文件」存在时，就主动的将目标文件直接移除后再创建！
